(function (_) {
    var ___gcfg                                 = undefined,
        AG_each                                 = undefined,
        AG_onLoad                               = undefined,
        AG_removeElementById                    = undefined,
        AG_removeElementBySelector              = undefined,
        AG_removeParent                         = undefined,
        AdFox_getCodeScript                     = undefined,
        Browser                                 = undefined,
        CGridWarPlayer                          = undefined,
        Class                                   = undefined,
        Cookies                                 = undefined,
        EventEmitter                            = undefined,
        MGridWarPlayer                          = undefined,
        VGridWarPlayer                          = undefined,
        Ya                                      = undefined,
        __global                                = undefined,
        _                                       = undefined,
        battleOptions                           = undefined,
        jQuery                                  = undefined,
        js                                      = undefined,
        lib                                     = undefined,
        punycode                                = undefined,
        validateRegulars                        = undefined,
        validators                              = undefined,
        warGrid                                 = undefined,
        yaCounter39933895                       = undefined,
        lib                                     = undefined,
        Class                                   = undefined,
        Browser                                 = undefined,
        Cookies                                 = undefined,
        js                                      = undefined,
        toPage                                  = undefined,
        $cube                                   = undefined,
        getWarrior                              = undefined,
        AnalyserNode                            = undefined, // Залепляем подгруз модулей и переменных, чтоб не хакнули.
        AnimationEvent                          = undefined,
        AppBannerPromptResult                   = undefined,
        ApplicationCache                        = undefined,
        ApplicationCacheErrorEvent              = undefined,
        ArrayBuffer                             = undefined,
        Attr                                    = undefined,
        Audio                                   = undefined,
        AudioBuffer                             = undefined,
        AudioBufferSourceNode                   = undefined,
        AudioContext                            = undefined,
        AudioDestinationNode                    = undefined,
        AudioListener                           = undefined,
        AudioNode                               = undefined,
        AudioParam                              = undefined,
        AudioProcessingEvent                    = undefined,
        AutocompleteErrorEvent                  = undefined,
        BarProp                                 = undefined,
        BatteryManager                          = undefined,
        BeforeInstallPromptEvent                = undefined,
        BeforeUnloadEvent                       = undefined,
        BiquadFilterNode                        = undefined,
        Blob                                    = undefined,
        BlobEvent                               = undefined,
        CDATASection                            = undefined,
        CSS                                     = undefined,
        CSSFontFaceRule                         = undefined,
        CSSGroupingRule                         = undefined,
        CSSImportRule                           = undefined,
        CSSKeyframeRule                         = undefined,
        CSSKeyframesRule                        = undefined,
        CSSMediaRule                            = undefined,
        CSSNamespaceRule                        = undefined,
        CSSPageRule                             = undefined,
        CSSRule                                 = undefined,
        CSSRuleList                             = undefined,
        CSSStyleDeclaration                     = undefined,
        CSSStyleRule                            = undefined,
        CSSStyleSheet                           = undefined,
        CSSSupportsRule                         = undefined,
        CSSViewportRule                         = undefined,
        Cache                                   = undefined,
        CacheStorage                            = undefined,
        CanvasCaptureMediaStreamTrack           = undefined,
        CanvasGradient                          = undefined,
        CanvasPattern                           = undefined,
        CanvasRenderingContext2D                = undefined,
        ChannelMergerNode                       = undefined,
        ChannelSplitterNode                     = undefined,
        CharacterData                           = undefined,
        ClientRect                              = undefined,
        ClientRectList                          = undefined,
        ClipboardEvent                          = undefined,
        CloseEvent                              = undefined,
        Comment                                 = undefined,
        CompositionEvent                        = undefined,
        ConvolverNode                           = undefined,
        Credential                              = undefined,
        CredentialsContainer                    = undefined,
        Crypto                                  = undefined,
        CryptoKey                               = undefined,
        CustomEvent                             = undefined,
        DOMError                                = undefined,
        DOMException                            = undefined,
        DOMImplementation                       = undefined,
        DOMParser                               = undefined,
        DOMStringList                           = undefined,
        DOMStringMap                            = undefined,
        DOMTokenList                            = undefined,
        DataTransfer                            = undefined,
        DataTransferItem                        = undefined,
        DataTransferItemList                    = undefined,
        DataView                                = undefined,
        Date                                    = undefined,
        DelayNode                               = undefined,
        DeviceMotionEvent                       = undefined,
        DeviceOrientationEvent                  = undefined,
        Document                                = undefined,
        DocumentFragment                        = undefined,
        DocumentType                            = undefined,
        DragEvent                               = undefined,
        DynamicsCompressorNode                  = undefined,
        Element                                 = undefined,
        ErrorEvent                              = undefined,
        EvalError                               = undefined,
        Event                                   = undefined,
        EventSource                             = undefined,
        EventTarget                             = undefined,
        FederatedCredential                     = undefined,
        File                                    = undefined,
        FileError                               = undefined,
        FileList                                = undefined,
        FileReader                              = undefined,
        Float32Array                            = undefined,
        Float64Array                            = undefined,
        FocusEvent                              = undefined,
        FontFace                                = undefined,
        FormData                                = undefined,
        Function                                = undefined,
        GainNode                                = undefined,
        Gamepad                                 = undefined,
        GamepadButton                           = undefined,
        GamepadEvent                            = undefined,
        HTMLAllCollection                       = undefined,
        HTMLAnchorElement                       = undefined,
        HTMLAreaElement                         = undefined,
        HTMLAudioElement                        = undefined,
        HTMLBRElement                           = undefined,
        HTMLBaseElement                         = undefined,
        HTMLBodyElement                         = undefined,
        HTMLButtonElement                       = undefined,
        HTMLCanvasElement                       = undefined,
        HTMLCollection                          = undefined,
        HTMLContentElement                      = undefined,
        HTMLDListElement                        = undefined,
        HTMLDataListElement                     = undefined,
        HTMLDetailsElement                      = undefined,
        HTMLDialogElement                       = undefined,
        HTMLDirectoryElement                    = undefined,
        HTMLDivElement                          = undefined,
        HTMLDocument                            = undefined,
        HTMLElement                             = undefined,
        HTMLEmbedElement                        = undefined,
        HTMLFieldSetElement                     = undefined,
        HTMLFontElement                         = undefined,
        HTMLFormControlsCollection              = undefined,
        HTMLFormElement                         = undefined,
        HTMLFrameElement                        = undefined,
        HTMLFrameSetElement                     = undefined,
        HTMLHRElement                           = undefined,
        HTMLHeadElement                         = undefined,
        HTMLHeadingElement                      = undefined,
        HTMLHtmlElement                         = undefined,
        HTMLIFrameElement                       = undefined,
        HTMLImageElement                        = undefined,
        HTMLInputElement                        = undefined,
        HTMLKeygenElement                       = undefined,
        HTMLLIElement                           = undefined,
        HTMLLabelElement                        = undefined,
        HTMLLegendElement                       = undefined,
        HTMLLinkElement                         = undefined,
        HTMLMapElement                          = undefined,
        HTMLMarqueeElement                      = undefined,
        HTMLMediaElement                        = undefined,
        HTMLMenuElement                         = undefined,
        HTMLMetaElement                         = undefined,
        HTMLMeterElement                        = undefined,
        HTMLModElement                          = undefined,
        HTMLOListElement                        = undefined,
        HTMLObjectElement                       = undefined,
        HTMLOptGroupElement                     = undefined,
        HTMLOptionElement                       = undefined,
        HTMLOptionsCollection                   = undefined,
        HTMLOutputElement                       = undefined,
        HTMLParagraphElement                    = undefined,
        HTMLParamElement                        = undefined,
        HTMLPictureElement                      = undefined,
        HTMLPreElement                          = undefined,
        HTMLProgressElement                     = undefined,
        HTMLQuoteElement                        = undefined,
        HTMLScriptElement                       = undefined,
        HTMLSelectElement                       = undefined,
        HTMLShadowElement                       = undefined,
        HTMLSourceElement                       = undefined,
        HTMLSpanElement                         = undefined,
        HTMLStyleElement                        = undefined,
        HTMLTableCaptionElement                 = undefined,
        HTMLTableCellElement                    = undefined,
        HTMLTableColElement                     = undefined,
        HTMLTableElement                        = undefined,
        HTMLTableRowElement                     = undefined,
        HTMLTableSectionElement                 = undefined,
        HTMLTemplateElement                     = undefined,
        HTMLTextAreaElement                     = undefined,
        HTMLTitleElement                        = undefined,
        HTMLTrackElement                        = undefined,
        HTMLUListElement                        = undefined,
        HTMLUnknownElement                      = undefined,
        HTMLVideoElement                        = undefined,
        HashChangeEvent                         = undefined,
        Headers                                 = undefined,
        History                                 = undefined,
        IDBCursor                               = undefined,
        IDBCursorWithValue                      = undefined,
        IDBDatabase                             = undefined,
        IDBFactory                              = undefined,
        IDBIndex                                = undefined,
        IDBKeyRange                             = undefined,
        IDBObjectStore                          = undefined,
        IDBOpenDBRequest                        = undefined,
        IDBRequest                              = undefined,
        IDBTransaction                          = undefined,
        IDBVersionChangeEvent                   = undefined,
        IIRFilterNode                           = undefined,
        IdleDeadline                            = undefined,
        Image                                   = undefined,
        ImageBitmap                             = undefined,
        ImageData                               = undefined,
        InputDeviceCapabilities                 = undefined,
        Int8Array                               = undefined,
        Int16Array                              = undefined,
        Int32Array                              = undefined,
        IntersectionObserver                    = undefined,
        IntersectionObserverEntry               = undefined,
        Intl                                    = undefined,
        JSON                                    = undefined,
        KeyboardEvent                           = undefined,
        Location                                = undefined,
        MIDIAccess                              = undefined,
        MIDIConnectionEvent                     = undefined,
        MIDIInput                               = undefined,
        MIDIInputMap                            = undefined,
        MIDIMessageEvent                        = undefined,
        MIDIOutput                              = undefined,
        MIDIOutputMap                           = undefined,
        MIDIPort                                = undefined,
        Map                                     = undefined,
        MediaDevices                            = undefined,
        MediaElementAudioSourceNode             = undefined,
        MediaEncryptedEvent                     = undefined,
        MediaError                              = undefined,
        MediaKeyMessageEvent                    = undefined,
        MediaKeySession                         = undefined,
        MediaKeyStatusMap                       = undefined,
        MediaKeySystemAccess                    = undefined,
        MediaKeys                               = undefined,
        MediaList                               = undefined,
        MediaQueryList                          = undefined,
        MediaQueryListEvent                     = undefined,
        MediaRecorder                           = undefined,
        MediaSource                             = undefined,
        MediaStreamAudioDestinationNode         = undefined,
        MediaStreamAudioSourceNode              = undefined,
        MediaStreamEvent                        = undefined,
        MediaStreamTrack                        = undefined,
        MessageChannel                          = undefined,
        MessageEvent                            = undefined,
        MessagePort                             = undefined,
        MimeType                                = undefined,
        MimeTypeArray                           = undefined,
        MouseEvent                              = undefined,
        MutationEvent                           = undefined,
        MutationObserver                        = undefined,
        MutationRecord                          = undefined,
        NaN                                     = undefined,
        NamedNodeMap                            = undefined,
        Navigator                               = undefined,
        Node                                    = undefined,
        NodeFilter                              = undefined,
        NodeIterator                            = undefined,
        NodeList                                = undefined,
        Notification                            = undefined,
        OfflineAudioCompletionEvent             = undefined,
        OfflineAudioContext                     = undefined,
        Option                                  = undefined,
        OscillatorNode                          = undefined,
        PageTransitionEvent                     = undefined,
        PasswordCredential                      = undefined,
        Path2D                                  = undefined,
        Performance                             = undefined,
        PerformanceEntry                        = undefined,
        PerformanceMark                         = undefined,
        PerformanceMeasure                      = undefined,
        PerformanceNavigation                   = undefined,
        PerformanceResourceTiming               = undefined,
        PerformanceTiming                       = undefined,
        PeriodicWave                            = undefined,
        PermissionStatus                        = undefined,
        Permissions                             = undefined,
        Plugin                                  = undefined,
        PluginArray                             = undefined,
        PopStateEvent                           = undefined,
        Presentation                            = undefined,
        PresentationAvailability                = undefined,
        PresentationConnection                  = undefined,
        PresentationConnectionAvailableEvent    = undefined,
        PresentationConnectionCloseEvent        = undefined,
        PresentationRequest                     = undefined,
        ProcessingInstruction                   = undefined,
        ProgressEvent                           = undefined,
        Promise                                 = undefined,
        PromiseRejectionEvent                   = undefined,
        Proxy                                   = undefined,
        PushManager                             = undefined,
        PushSubscription                        = undefined,
        RTCCertificate                          = undefined,
        RTCIceCandidate                         = undefined,
        RTCSessionDescription                   = undefined,
        RadioNodeList                           = undefined,
        Range                                   = undefined,
        RangeError                              = undefined,
        ReadableByteStream                      = undefined,
        ReadableStream                          = undefined,
        ReferenceError                          = undefined,
        Reflect                                 = undefined,
        RegExp                                  = undefined,
        Request                                 = undefined,
        Response                                = undefined,
        SVGAElement                             = undefined,
        SVGAngle                                = undefined,
        SVGAnimateElement                       = undefined,
        SVGAnimateMotionElement                 = undefined,
        SVGAnimateTransformElement              = undefined,
        SVGAnimatedAngle                        = undefined,
        SVGAnimatedBoolean                      = undefined,
        SVGAnimatedEnumeration                  = undefined,
        SVGAnimatedInteger                      = undefined,
        SVGAnimatedLength                       = undefined,
        SVGAnimatedLengthList                   = undefined,
        SVGAnimatedNumber                       = undefined,
        SVGAnimatedNumberList                   = undefined,
        SVGAnimatedPreserveAspectRatio          = undefined,
        SVGAnimatedRect                         = undefined,
        SVGAnimatedString                       = undefined,
        SVGAnimatedTransformList                = undefined,
        SVGAnimationElement                     = undefined,
        SVGCircleElement                        = undefined,
        SVGClipPathElement                      = undefined,
        SVGComponentTransferFunctionElement     = undefined,
        SVGCursorElement                        = undefined,
        SVGDefsElement                          = undefined,
        SVGDescElement                          = undefined,
        SVGDiscardElement                       = undefined,
        SVGElement                              = undefined,
        SVGEllipseElement                       = undefined,
        SVGFEBlendElement                       = undefined,
        SVGFEColorMatrixElement                 = undefined,
        SVGFEComponentTransferElement           = undefined,
        SVGFECompositeElement                   = undefined,
        SVGFEConvolveMatrixElement              = undefined,
        SVGFEDiffuseLightingElement             = undefined,
        SVGFEDisplacementMapElement             = undefined,
        SVGFEDistantLightElement                = undefined,
        SVGFEDropShadowElement                  = undefined,
        SVGFEFloodElement                       = undefined,
        SVGFEFuncAElement                       = undefined,
        SVGFEFuncBElement                       = undefined,
        SVGFEFuncGElement                       = undefined,
        SVGFEFuncRElement                       = undefined,
        SVGFEGaussianBlurElement                = undefined,
        SVGFEImageElement                       = undefined,
        SVGFEMergeElement                       = undefined,
        SVGFEMergeNodeElement                   = undefined,
        SVGFEMorphologyElement                  = undefined,
        SVGFEOffsetElement                      = undefined,
        SVGFEPointLightElement                  = undefined,
        SVGFESpecularLightingElement            = undefined,
        SVGFESpotLightElement                   = undefined,
        SVGFETileElement                        = undefined,
        SVGFETurbulenceElement                  = undefined,
        SVGFilterElement                        = undefined,
        SVGForeignObjectElement                 = undefined,
        SVGGElement                             = undefined,
        SVGGeometryElement                      = undefined,
        SVGGradientElement                      = undefined,
        SVGGraphicsElement                      = undefined,
        SVGImageElement                         = undefined,
        SVGLength                               = undefined,
        SVGLengthList                           = undefined,
        SVGLineElement                          = undefined,
        SVGLinearGradientElement                = undefined,
        SVGMPathElement                         = undefined,
        SVGMarkerElement                        = undefined,
        SVGMaskElement                          = undefined,
        SVGMatrix                               = undefined,
        SVGMetadataElement                      = undefined,
        SVGNumber                               = undefined,
        SVGNumberList                           = undefined,
        SVGPathElement                          = undefined,
        SVGPatternElement                       = undefined,
        SVGPoint                                = undefined,
        SVGPointList                            = undefined,
        SVGPolygonElement                       = undefined,
        SVGPolylineElement                      = undefined,
        SVGPreserveAspectRatio                  = undefined,
        SVGRadialGradientElement                = undefined,
        SVGRect                                 = undefined,
        SVGRectElement                          = undefined,
        SVGSVGElement                           = undefined,
        SVGScriptElement                        = undefined,
        SVGSetElement                           = undefined,
        SVGStopElement                          = undefined,
        SVGStringList                           = undefined,
        SVGStyleElement                         = undefined,
        SVGSwitchElement                        = undefined,
        SVGSymbolElement                        = undefined,
        SVGTSpanElement                         = undefined,
        SVGTextContentElement                   = undefined,
        SVGTextElement                          = undefined,
        SVGTextPathElement                      = undefined,
        SVGTextPositioningElement               = undefined,
        SVGTitleElement                         = undefined,
        SVGTransform                            = undefined,
        SVGTransformList                        = undefined,
        SVGUnitTypes                            = undefined,
        SVGUseElement                           = undefined,
        SVGViewElement                          = undefined,
        SVGViewSpec                             = undefined,
        SVGZoomEvent                            = undefined,
        Screen                                  = undefined,
        ScreenOrientation                       = undefined,
        ScriptProcessorNode                     = undefined,
        SecurityPolicyViolationEvent            = undefined,
        Selection                               = undefined,
        ServiceWorker                           = undefined,
        ServiceWorkerContainer                  = undefined,
        ServiceWorkerMessageEvent               = undefined,
        ServiceWorkerRegistration               = undefined,
        Set                                     = undefined,
        ShadowRoot                              = undefined,
        SharedWorker                            = undefined,
        SourceBuffer                            = undefined,
        SourceBufferList                        = undefined,
        SpeechSynthesisEvent                    = undefined,
        SpeechSynthesisUtterance                = undefined,
        Storage                                 = undefined,
        StorageEvent                            = undefined,
        StyleSheet                              = undefined,
        StyleSheetList                          = undefined,
        SubtleCrypto                            = undefined,
        Symbol                                  = undefined,
        SyncManager                             = undefined,
        SyntaxError                             = undefined,
        Text                                    = undefined,
        TextDecoder                             = undefined,
        TextEncoder                             = undefined,
        TextEvent                               = undefined,
        TextMetrics                             = undefined,
        TextTrack                               = undefined,
        TextTrackCue                            = undefined,
        TextTrackCueList                        = undefined,
        TextTrackList                           = undefined,
        TimeRanges                              = undefined,
        Touch                                   = undefined,
        TouchEvent                              = undefined,
        TouchList                               = undefined,
        TrackEvent                              = undefined,
        TransitionEvent                         = undefined,
        TreeWalker                              = undefined,
        TypeError                               = undefined,
        UIEvent                                 = undefined,
        URIError                                = undefined,
        URL                                     = undefined,
        URLSearchParams                         = undefined,
        Uint8Array                              = undefined,
        Uint8ClampedArray                       = undefined,
        Uint16Array                             = undefined,
        Uint32Array                             = undefined,
        VTTCue                                  = undefined,
        ValidityState                           = undefined,
        WaveShaperNode                          = undefined,
        WeakMap                                 = undefined,
        WeakSet                                 = undefined,
        WebGLActiveInfo                         = undefined,
        WebGLBuffer                             = undefined,
        WebGLContextEvent                       = undefined,
        WebGLFramebuffer                        = undefined,
        WebGLProgram                            = undefined,
        WebGLRenderbuffer                       = undefined,
        WebGLRenderingContext                   = undefined,
        WebGLShader                             = undefined,
        WebGLShaderPrecisionFormat              = undefined,
        WebGLTexture                            = undefined,
        WebGLUniformLocation                    = undefined,
        WebKitAnimationEvent                    = undefined,
        WebKitCSSMatrix                         = undefined,
        WebKitMutationObserver                  = undefined,
        WebKitTransitionEvent                   = undefined,
        WebSocket                               = undefined,
        WheelEvent                              = undefined,
        Window                                  = undefined,
        Worker                                  = undefined,
        XMLDocument                             = undefined,
        XMLHttpRequest                          = undefined,
        XMLHttpRequestEventTarget               = undefined,
        XMLHttpRequestUpload                    = undefined,
        XMLSerializer                           = undefined,
        XPathEvaluator                          = undefined,
        XPathExpression                         = undefined,
        XPathResult                             = undefined,
        XSLTProcessor                           = undefined,
        alert                                   = undefined,
        applicationCache                        = undefined,
        atob                                    = undefined,
        blur                                    = undefined,
        btoa                                    = undefined,
        caches                                  = undefined,
        cancelAnimationFrame                    = undefined,
        cancelIdleCallback                      = undefined,
        captureEvents                           = undefined,
        chrome                                  = undefined,
        clearInterval                           = undefined,
        clearTimeout                            = undefined,
        clientInformation                       = undefined,
        close                                   = undefined,
        closed                                  = undefined,
        collapsers                              = undefined,
        confirm                                 = undefined,
        console                                 = undefined,
        createImageBitmap                       = undefined,
        crypto                                  = undefined,
        decodeURI                               = undefined,
        decodeURIComponent                      = undefined,
        defaultStatus                           = undefined,
        defaultstatus                           = undefined,
        devicePixelRatio                        = undefined,
        displayError                            = undefined,
        displayUI                               = undefined,
        document                                = undefined,
        encodeURI                               = undefined,
        encodeURIComponent                      = undefined,
        escape                                  = undefined,
        eval                                    = undefined,
        event                                   = undefined,
        external                                = undefined,
        extractData                             = undefined,
        fetch                                   = undefined,
        find                                    = undefined,
        focus                                   = undefined,
        frameElement                            = undefined,
        frames                                  = undefined,
        getComputedStyle                        = undefined,
        getMatchedCSSRules                      = undefined,
        getParentLI                             = undefined,
        getSelection                            = undefined,
        history                                 = undefined,
        indexedDB                               = undefined,
        init                                    = undefined,
        innerHeight                             = undefined,
        innerWidth                              = undefined,
        isFinite                                = undefined,
        isNaN                                   = undefined,
        isSecureContext                         = undefined,
        jsonObject                              = undefined,
        length                                  = undefined,
        load                                    = undefined,
        localStorage                            = undefined,
        location                                = undefined,
        locationbar                             = undefined,
        matchMedia                              = undefined,
        menubar                                 = undefined,
        moveBy                                  = undefined,
        moveTo                                  = undefined,
        name                                    = undefined,
        navigator                               = undefined,
        offscreenBuffering                      = undefined,
        onContextMenu                           = undefined,
        onabort                                 = undefined,
        onanimationend                          = undefined,
        onanimationiteration                    = undefined,
        onanimationstart                        = undefined,
        onautocomplete                          = undefined,
        onautocompleteerror                     = undefined,
        onbeforeunload                          = undefined,
        onblur                                  = undefined,
        oncancel                                = undefined,
        oncanplay                               = undefined,
        oncanplaythrough                        = undefined,
        onchange                                = undefined,
        onclick                                 = undefined,
        onclose                                 = undefined,
        oncontextmenu                           = undefined,
        oncuechange                             = undefined,
        ondblclick                              = undefined,
        ondevicemotion                          = undefined,
        ondeviceorientation                     = undefined,
        ondeviceorientationabsolute             = undefined,
        ondrag                                  = undefined,
        ondragend                               = undefined,
        ondragenter                             = undefined,
        ondragleave                             = undefined,
        ondragover                              = undefined,
        ondragstart                             = undefined,
        ondrop                                  = undefined,
        ondurationchange                        = undefined,
        onemptied                               = undefined,
        onended                                 = undefined,
        onerror                                 = undefined,
        onexpand                                = undefined,
        onfocus                                 = undefined,
        onhashchange                            = undefined,
        oninput                                 = undefined,
        oninvalid                               = undefined,
        onkeydown                               = undefined,
        onkeypress                              = undefined,
        onkeyup                                 = undefined,
        onlanguagechange                        = undefined,
        onload                                  = undefined,
        onloadeddata                            = undefined,
        onloadedmetadata                        = undefined,
        onloadstart                             = undefined,
        onmessage                               = undefined,
        onmouseClick                            = undefined,
        onmouseMove                             = undefined,
        onmousedown                             = undefined,
        onmouseenter                            = undefined,
        onmouseleave                            = undefined,
        onmousemove                             = undefined,
        onmouseout                              = undefined,
        onmouseover                             = undefined,
        onmouseup                               = undefined,
        onmousewheel                            = undefined,
        onoffline                               = undefined,
        ononline                                = undefined,
        onpagehide                              = undefined,
        onpageshow                              = undefined,
        onpause                                 = undefined,
        onplay                                  = undefined,
        onplaying                               = undefined,
        onpopstate                              = undefined,
        onprogress                              = undefined,
        onratechange                            = undefined,
        onreduce                                = undefined,
        onrejectionhandled                      = undefined,
        onreset                                 = undefined,
        onresize                                = undefined,
        onscroll                                = undefined,
        onsearch                                = undefined,
        onseeked                                = undefined,
        onseeking                               = undefined,
        onselect                                = undefined,
        onshow                                  = undefined,
        onstalled                               = undefined,
        onstorage                               = undefined,
        onsubmit                                = undefined,
        onsuspend                               = undefined,
        ontimeupdate                            = undefined,
        ontoggle                                = undefined,
        ontransitionend                         = undefined,
        onunhandledrejection                    = undefined,
        onunload                                = undefined,
        onvolumechange                          = undefined,
        onwaiting                               = undefined,
        onwebkitanimationend                    = undefined,
        onwebkitanimationiteration              = undefined,
        onwebkitanimationstart                  = undefined,
        onwebkittransitionend                   = undefined,
        onwheel                                 = undefined,
        open                                    = undefined,
        openDatabase                            = undefined,
        opener                                  = undefined,
        options                                 = undefined,
        outerHeight                             = undefined,
        outerWidth                              = undefined,
        pageXOffset                             = undefined,
        pageYOffset                             = undefined,
        parent                                  = undefined,
        performance                             = undefined,
        personalbar                             = undefined,
        port                                    = undefined,
        postMessage                             = undefined,
        print                                   = undefined,
        processData                             = undefined,
        prompt                                  = undefined,
        releaseEvents                           = undefined,
        requestAnimationFrame                   = undefined,
        requestIdleCallback                     = undefined,
        resizeBy                                = undefined,
        resizeTo                                = undefined,
        screen                                  = undefined,
        screenLeft                              = undefined,
        screenTop                               = undefined,
        screenX                                 = undefined,
        screenY                                 = undefined,
        scroll                                  = undefined,
        scrollBy                                = undefined,
        scrollTo                                = undefined,
        scrollX                                 = undefined,
        scrollY                                 = undefined,
        scrollbars                              = undefined,
        selectedLI                              = undefined,
        self                                    = undefined,
        sessionStorage                          = undefined,
        setInterval                             = undefined,
        setTimeout                              = undefined,
        speechSynthesis                         = undefined,
        status                                  = undefined,
        statusbar                               = undefined,
        stop                                    = undefined,
        styleMedia                              = undefined,
        toolbar                                 = undefined,
        top                                     = undefined,
        unescape                                = undefined,
        webkitAudioContext                      = undefined,
        webkitCancelAnimationFrame              = undefined,
        webkitCancelRequestAnimationFrame       = undefined,
        webkitIDBCursor                         = undefined,
        webkitIDBDatabase                       = undefined,
        webkitIDBFactory                        = undefined,
        webkitIDBIndex                          = undefined,
        webkitIDBKeyRange                       = undefined,
        webkitIDBObjectStore                    = undefined,
        webkitIDBRequest                        = undefined,
        webkitIDBTransaction                    = undefined,
        webkitIndexedDB                         = undefined,
        webkitMediaStream                       = undefined,
        webkitOfflineAudioContext               = undefined,
        webkitRTCPeerConnection                 = undefined,
        webkitRequestAnimationFrame             = undefined,
        webkitRequestFileSystem                 = undefined,
        webkitResolveLocalFileSystemURL         = undefined,
        webkitSpeechGrammar                     = undefined,
        webkitSpeechGrammarList                 = undefined,
        webkitSpeechRecognition                 = undefined,
        webkitSpeechRecognitionError            = undefined,
        webkitSpeechRecognitionEvent            = undefined,
        webkitStorageInfo                       = undefined,
        webkitURL                               = undefined,
        window                                  = undefined,
        __global                                = undefined, // Залепляем локальные переменные приложения.
        ttl                                     = undefined,
        $                                       = undefined,
        dbLimits                                = undefined,
        fieldLengths                            = undefined,
        symbolSets                              = undefined,
        validateRegulars                        = undefined,
        angular                                 = undefined,
        cookies                                 = undefined,
        punycode                                = undefined,
        lib                                     = undefined,
        Class                                   = undefined,
        Browser                                 = undefined,
        Cookies                                 = undefined,
        js                                      = undefined,
        toPage                                  = undefined;


    (function () { // Делаем еще одну одну обвертку, чтобы отделить var.
        // header end
        var __global__ = undefined;

        global.register(function (comvarSet) {
            var warrior = {
                emptyComvar        : "00000000000000000000000000000000",
                emptyComvarEnd     : "0000000000000",
                ownComvar          : null,
                enemyIndexes       : null,
                emptyIndexes       : null,
                oursIndexes        : null,
                frontIndexes       : null,
                frontEnemyNearOurs : null,
                shoot1             : null,
                shoot2             : null,
                shoot3             : null,
                offsetX            : null,
                offsetY            : null,
                fillArray          : [0,2,8,6,1,5,7,3],
                searchArray        : [0,1,2,5,8,7,6,3],
                isStartCell        : false,
                isOffsetDefined    : false,
                vectorCellIndex    : null,
                neighborOffsets    : {
                    0 : [-1,-1],
                    1 : [0,-1],
                    2 : [1,-1],
                    3 : [-1,0],
                    5 : [1,0],
                    6 : [-1,1],
                    7 : [0,1],
                    8 : [1,1]
                },
                getEmptyByFillArray : function () {
                    var fillArray    = this.fillArray,
                        emptyIndexes = this.emptyIndexes,
                        length       = fillArray.length,
                        index;

                    for (index = 0; index < length; index += 1) {
                        if (emptyIndexes.indexOf(fillArray[index]) !== -1) {
                            return fillArray[index];
                        }
                    }
                    return -1;
                },
                getBinaryNumber : function (num) {
                    var singBit;
                    if (num < 0) {
                        singBit = '1';
                    } else {
                        singBit = '0';
                    }
                    num = Math.abs(num);
                    return singBit + Number(num + 128).toString(2).slice(1, 8);
                },
                getOffsetOfNeighborIndex : function (index) {
                    return [].concat(this.neighborOffsets[String(index)]);
                },
                extractComvar : function (comvar) {
                    // Стркутура хранимого comvar - communication variable
                    // 1 бит - признак того, что ячейка не свежая - недавно занятая
                    // 2 бит - признак того, что на прошлом ходу враг был среди соседий
                    // 3-10 - 8 битов смещения относительно начальной ячейки по x. 3 бит - знак, если 1, то минус.
                    // 11-18 - 8 битов смещения относительно начальной ячейки по y. 11 бит - знак, если 1, то минус.
                    // 19 бит хранит признак определенности смещения.
                    var isNotNew    = !!parseInt(comvar.slice(0,1), 10),
                        isEnemyNear = !!parseInt(comvar.slice(1,2), 10),
                        offsetX     = (comvar.slice(2,3) === '1' ? -1 : 1) * parseInt(comvar.slice(3,10), 10),
                        offsetY     = (comvar.slice(10,11) === '1' ? -1 : 1) * parseInt(comvar.slice(11,18), 10);

                    return {
                        'isNotNew'    : isNotNew,
                        'isEnemyNear' : isEnemyNear,
                        'offsetX'     : offsetX,
                        'offsetY'     : offsetY
                    };
                },
                getIsEmptyComvar : function (testComvar) {
                    return this.emptyComvar === testComvar;
                },
                getBit : function (tempBool) {
                    return tempBool ? '1' : '0';
                },
                getOffsetDefinedOurIndex : function () {
                    var index,
                        length = this.oursIndexes.length;

                    for (index = 0; index < length; index += 1) {
                        if (comvarSet[this.oursIndexes[index]].slice(18, 19) === '1') {
                            return this.oursIndexes[index];
                        }
                    }

                    return -1;
                },
                compileNewComvar : function () {
                    this.ownComvar = this.getBit(this.isNotNew) +
                        this.getBit(this.isEnemyNear) +
                        this.getBinaryNumber(this.offsetX || 0) +
                        this.getBinaryNumber(this.offsetY || 0) +
                        this.getBit(this.isOffsetDefined) +
                        this.emptyComvarEnd;
                },
                culcNewOwnComvar : function () {
                    var offset,
                        someOldOurIndex,
                        someOurComvar;

                    // Каждая ячейка хранит позицию начальной клетки относительно текущей,
                    // чтобы смочь высчитать вектор движения.
                    // Чтобы вычислить смещение, относительно начальной клетки, нужно среди соседей найти хоть одну
                    // клетку с полным comvar.
                    if (this.getIsEmptyComvar(comvarSet[4])) {
                        if (this.oursIndexes.length) {
                            someOldOurIndex = this.getOffsetDefinedOurIndex();
                            if (someOldOurIndex !== -1) {
                                someOurComvar        = comvarSet[someOldOurIndex];
                                offset               = this.getOffsetOfNeighborIndex(someOldOurIndex);
                                someOurComvar        = this.extractComvar(someOurComvar);
                                this.offsetX         = someOurComvar['offsetX'] - offset[0];
                                this.offsetY         = someOurComvar['offsetY'] - offset[1];
                                this.isOffsetDefined = true;
                            }
                        } else if (this.emptyIndexes.length === 8) { // Если все вокруг пустые, то это начальная точка.
                            this.offsetX         = 0;
                            this.offsetY         = 0;
                            this.isStartCell     = true;
                            this.isOffsetDefined = true;
                        }
                    } else {
                        someOurComvar = this.extractComvar(comvarSet[4]);
                        if (someOurComvar['offsetX'] === 0 && someOurComvar['offsetY'] === 0) {
                            this.isStartCell = true;
                        }
                        this.offsetX         = someOurComvar['offsetX'];
                        this.offsetY         = someOurComvar['offsetY'];
                        this.isOffsetDefined = true;
                    }

                    this.isEnemyNear = !!this.enemyIndexes.length;
                    this.isNotNew    = true;
                    this.compileNewComvar();
                },
                initialize : function () {
                    var enemyIndexes = [],
                        emptyIndexes = [],
                        oursIndexes  = [],
                        frontIndexes = [],
                        length       = comvarSet.length,
                        index;

                    for (index = 0; index < length; index += 1) {
                        if (index !== 4) {
                            if (typeof comvarSet[index] === 'number' &&
                                comvarSet[index] !== 0) {
                                enemyIndexes.push(index);
                            } else if (comvarSet[index] === 0) {
                                emptyIndexes.push(index);
                            } else {
                                if (comvarSet[index].slice(0, 2) === '11' ||
                                    comvarSet[index].slice(0, 2) === '00') {
                                    frontIndexes.push(index);
                                }
                                oursIndexes.push(index);
                            }
                        }
                    }

                    this.enemyIndexes       = enemyIndexes;
                    this.emptyIndexes       = emptyIndexes;
                    this.oursIndexes        = oursIndexes;
                    this.frontIndexes       = frontIndexes;
                },
                getRandomItemFromArray : function (array) {
                    var index = parseInt(Math.random() * array.length, 10);
                    return array[index];
                },
                getVectorCellFromOffset : function () {
                    var offsetX = this.offsetX,
                        offsetY = this.offsetY,
                        sectorNumber,
                        angleInSector;

                    if (offsetX === 0 && offsetY > 0) {
                        return 7;
                    } else if (offsetX === 0 && offsetY < 0) {
                        return 1;
                    } else if (offsetY === 0 && offsetX > 0) {
                        return 5;
                    } else if (offsetY === 0 && offsetX < 0) {
                        return 3;
                    }

                    if (offsetX > 0 && offsetY > 0) {
                        sectorNumber = 1;
                    } else if (offsetX < 0  && offsetY > 0) {
                        sectorNumber = 2;
                    } else if (offsetX < 0 && offsetY < 0) {
                        sectorNumber = 3;
                    } else if (offsetX > 0  && offsetY < 0) {
                        sectorNumber = 4;
                    }

                    offsetX = Math.abs(offsetX);
                    offsetY = Math.abs(offsetY);
                    angleInSector = (Math.atan(offsetY/offsetX) / Math.PI) * 180;
                    if ([2, 4].indexOf(sectorNumber) !== -1) {
                        angleInSector = 90 - angleInSector;
                    }
                    angleInSector = (sectorNumber - 1) * 90 + angleInSector;
                    if (angleInSector <= 22.5 || angleInSector > 337.5) {
                        return 5;
                    } else if (angleInSector  <= 67.5) {
                        return 8;
                    } else if (angleInSector  <= 112.5) {
                        return 7;
                    } else if (angleInSector  <= 157.5) {
                        return 6;
                    } else if (angleInSector  <= 202.5) {
                        return 3;
                    } else if (angleInSector  <= 247.5) {
                        return 0;
                    } else if (angleInSector  <= 292.5) {
                        return 1;
                    } else if (angleInSector  <= 337.5) {
                        return 2;
                    }
                },
                getVectorCellFromNeighbors : function () {
                    var isSegmentInProcess  = false,
                        segmentIndex        = -1,
                        segments            = [],
                        maximumSegmentIndex = null,
                        length              = this.searchArray.length,
                        index,
                        targetIndex;

                    for (index = 0; index < length; index += 1) {
                        targetIndex = this.searchArray[index];
                        if (comvarSet[targetIndex] !== 'string') {
                            if (!isSegmentInProcess) {
                                segmentIndex += 1;
                                segments[segmentIndex] = [];
                                isSegmentInProcess = true;
                            }
                            segments[segmentIndex].push(targetIndex);
                        } else {
                            isSegmentInProcess = false;
                        }
                    }
                    if (segments.length > 1) {
                        // Склеиваем последний с первым, если нужно.
                        if (segments[0][0] === 0 && segments[segments.length - 1][segments[segments.length - 1].length - 1] === 3) {
                            segments[0] = segments[segments.length - 1].concat(segments[0]);
                            segments.splice(segments.length - 1, 1);
                        }
                    }

                    length = segments.length;
                    if (length) {
                        for (index = 0; index < length; index += 1) {
                            if (maximumSegmentIndex === null || segments[index].length > segments[maximumSegmentIndex].length) {
                                maximumSegmentIndex = index;
                            }
                        }
                        targetIndex = segments[maximumSegmentIndex][parseInt(segments[maximumSegmentIndex].length / 2, 10)];

                        return targetIndex;
                    } else {
                        return 0;
                    }
                },
                culcVectorCellIndex : function () {
                    if (this.isOffsetDefined) {
                        this.vectorCellIndex = this.getVectorCellFromOffset();
                    } else if (this.oursIndexes.length) {
                        this.vectorCellIndex = this.getVectorCellFromNeighbors();
                    }
                },
                getShootByVectorVectorCell : function () {
                    var vectorCellIndex = this.vectorCellIndex,
                        searchArray     = this.searchArray,
                        left            = searchArray.indexOf(vectorCellIndex) - 1,
                        self = this,
                        left2,
                        left3,
                        right           = searchArray.indexOf(vectorCellIndex) + 1,
                        right2,
                        right3,
                        back,
                        fillLib = {
                            tryToFillBorders : function () {
                                var overlay = [],
                                    result  = [],
                                    index,
                                    length,
                                    temp;

                                // Если впереди есть, помогаем, чтобы не профукать.
                                if (self.oursIndexes.length > 6 && (self.enemyIndexes.length || self.emptyIndexes.length)) {
                                    if (self.enemyIndexes.length) {
                                        temp = self.getRandomItemFromArray(self.enemyIndexes);
                                    } else if (self.emptyIndexes.length) {
                                        temp = self.getRandomItemFromArray(self.emptyIndexes);
                                    }
                                    overlay = [temp];
                                    if (Math.random() > 0.5) {
                                        overlay.push(temp);
                                    }
                                }

                                if (self.enemyIndexes.length < 2) {
                                    if (typeof comvarSet[vectorCellIndex] === 'string') {
                                        result = [vectorCellIndex, vectorCellIndex, vectorCellIndex];
                                        // Если с баков нет, то заполняем бока, если впереди свободно.
                                    } else if (typeof comvarSet[searchArray[left]] !== 'string') {
                                        result = [searchArray[left], searchArray[left], searchArray[left]];
                                    } else if (typeof comvarSet[searchArray[right]] !== 'string') {
                                        result = [searchArray[right], searchArray[right], searchArray[right]];
                                        // Если сзади есть 3 клетки пустые, то кидаемся назад. Что по сути является частным случаем, когда вообще ничего нет.
                                    } else if (typeof comvarSet[searchArray[right3]] !== 'string' &&
                                        typeof comvarSet[searchArray[left3]] !== 'string' &&
                                        typeof comvarSet[searchArray[back]] !== 'string') {
                                        result = [searchArray[back], searchArray[back], searchArray[back]];
                                    } else { // Если все нормально - кидаемся вперед.
                                        result = [vectorCellIndex, vectorCellIndex, vectorCellIndex];
                                    }
                                } else { // врагов больше - защитный режим.
                                    if (typeof comvarSet[searchArray[back]] !== 'string') {
                                        result = [searchArray[back], searchArray[back], searchArray[back]];
                                    } else if (typeof comvarSet[searchArray[left3]] !== 'string') {
                                        result = [searchArray[left3], searchArray[left3], searchArray[left3]];
                                    } else if (typeof comvarSet[searchArray[right3]] !== 'string') {
                                        result = [searchArray[right3], searchArray[right3], searchArray[right3]];
                                    } else if (typeof comvarSet[searchArray[left2]] !== 'string') {
                                        result = [searchArray[left2], searchArray[left2], searchArray[left2]];
                                    } else if (typeof comvarSet[searchArray[right2]] !== 'string') {
                                        result = [searchArray[right2], searchArray[right2], searchArray[right2]];
                                    } else  if (typeof comvarSet[vectorCellIndex] === 'string') {
                                        result = [vectorCellIndex, vectorCellIndex, vectorCellIndex];
                                    } else  if (typeof comvarSet[searchArray[left]] !== 'string') {
                                        result = [searchArray[left], searchArray[left], searchArray[left]];
                                    } else if (typeof comvarSet[searchArray[right]] !== 'string') {
                                        result = [searchArray[right], searchArray[right], searchArray[right]];
                                    } else {
                                        result = [vectorCellIndex, vectorCellIndex, vectorCellIndex];
                                    }
                                }
                                length = overlay.length;
                                for (index = 0; index < length; index += 1) {
                                    result[index] = overlay[index];
                                }
                                return result
                            }
                        };

                    // Заолняй бока.
                    if (left === -1) {
                        left = 7;
                    }
                    left2 = left - 1;
                    if (left2 === -1) {
                        left2 = 7;
                    }
                    left3 = left2 - 1;
                    if (left3 === -1) {
                        left3 = 7;
                    }
                    back = left3 - 1;
                    if (back === -1) {
                        back = 7;
                    }


                    if (right === 8) {
                        right = 0;
                    }
                    right2 = right + 1;
                    if (right2 === 8) {
                        right2 = 0;
                    }
                    right3 = right2 + 1;
                    if (right3 === 8) {
                        right3 = 0;
                    }

                    return fillLib.tryToFillBorders();
                },
                shoot : function (comvarSet) {
                    var targetIndex;
                    this.initialize();
                    this.culcNewOwnComvar();
                    this.culcVectorCellIndex();

                    if (this.isStartCell) {
                        if (this.emptyIndexes.length) {
                            targetIndex = this.getEmptyByFillArray();
                            this.shoot1 = this.shoot2 = this.shoot3 = targetIndex;
                        } else if (this.enemyIndexes.length) {
                            targetIndex = this.getRandomItemFromArray(this.enemyIndexes);
                            this.shoot1 = this.shoot2 = this.shoot3 = targetIndex;
                        } else {
                            targetIndex = this.getRandomItemFromArray(this.fillArray);
                            this.shoot1 = this.shoot2 = this.shoot3 = targetIndex;
                        }
                    } else {
                        if (this.vectorCellIndex !== null) {
                            targetIndex = this.getShootByVectorVectorCell();
                            this.shoot1 = targetIndex[0];
                            this.shoot2 = targetIndex[1];
                            this.shoot3 = targetIndex[2];
                        } else {
                            targetIndex = this.getRandomItemFromArray(this.fillArray);
                            this.shoot1 = this.shoot2 = this.shoot3 = targetIndex;
                        }
                    }

                    return [this.shoot1, this.shoot2, this.shoot3, this.ownComvar];
                }
            };
            return warrior.shoot(comvarSet);
        }, "cycletron");
        global = undefined;

// footer begin
    }.call({}, [])); // Запускаем в контексте простого объекта, чтобы не пустить window.

}.call({}, undefined)); // Запускаем в контексте простого объекта, чтобы не пустить window.